# Каталог сценариев симуляции Online Dukan

Этот документ описывает 10 различных сценариев поведения пользователей. Каждый сценарий состоит из 10 шагов.

---

## Сценарий 1: "Классический Покупатель"
*Цикл покупки от регистрации до проверки истории.*
1. Регистрация нового аккаунта.
2. Авторизация (Login) и получение JWT.
3. Просмотр списка всех категорий.
4. Просмотр списка доступных товаров.
5. Детальный просмотр первого товара.
6. Добавление товара в корзину.
7. Просмотр текущего состояния корзины.
8. Переход к оформлению заказа (Checkout).
9. Получение подтверждения заказа.
10. Просмотр истории своих заказов.

## Сценарий 2: "Охотник за скидками"
*Поиск товаров с лучшей ценой.*
1. Регистрация.
2. Авторизация.
3. Просмотр категорий.
4. Поиск товаров по ключевому слоду "Smartphone".
5. Сортировка результатов по возрастанию цены.
6. Просмотр деталей самого дешевого товара.
7. Просмотр деталей второго по цене товара.
8. Добавление дешевого товара в корзину.
9. Проверка итоговой суммы в корзине.
10. Оформление заказа и очистка корзины.

## Сценарий 3: "Личный Кабинет"
*Управление персональными данными.*
1. Регистрация.
2. Вход в систему.
3. Просмотр текущего профиля.
4. Обновление адреса проживания.
5. Обновление телефонного номера.
6. Проверка обновленного профиля через GET.
7. Выход из системы (сброс токена).
8. Повторный вход.
9. Проверка, что адрес остался обновленным.
10. Просмотр категорий (просто активность).

## Сценарий 4: "Менеджер Корзины"
*Активная работа с составом корзины.*
1. Логин.
2. Поиск товара А.
3. Добавление товара А в корзину.
4. Поиск товара Б.
5. Добавление товара Б в корзину.
6. Просмотр корзины (2 товара).
7. Удаление товара А из корзины.
8. Просмотр корзины (остался 1 товар).
9. Добавление еще 2 единиц товара Б.
10. Финальная проверка корзины перед выходом.

## Сценарий 5: "Витринный Шоппинг"
*Просмотр без совершения покупки (нагрузка на чтение).*
1. Логин.
2. Просмотр всех категорий.
3. Переход в категорию "Электроника" (фильтр).
4. Просмотр первой страницы товаров.
5. Просмотр второй страницы (пагинация).
6. Детальный просмотр товара №1.
7. Детальный просмотр товара №2.
8. Детальный просмотр товара №3.
9. Поиск по бренду.
10. Выход без покупок.

## Сценарий 6: "Повторные Покупки"
*Работа лояльного клиента с историей.*
1. Логин.
2. Просмотр истории предыдущих заказов.
3. Переход к деталям товара из последнего заказа.
4. Проверка, активен ли этот товар.
5. Добавление его в корзину снова.
6. Просмотр категорий для сопутствующих товаров.
7. Поиск аксессуаров.
8. Добавление аксессуара в корзину.
9. Оформление заказа.
10. Проверка появления второго заказа в истории.

## Сценарий 7: "Оптовик"
*Закупка больших партий.*
1. Логин.
2. Поиск товара с большим остатком (stock).
3. Проверка деталей товара (stock > 50).
4. Добавление 10 единиц в корзину.
5. Добавление еще 10 единиц того же товара.
6. Поиск другого товара.
7. Добавление 5 единиц другого товара.
8. Оформление заказа.
9. Проверка списания stock (через API товара).
10. Просмотр суммы заказа (оптовый чек).

## Сценарий 8: "Исследователь Поиска"
*Глубокий поиск по разным параметрам.*
1. Логин.
2. Поиск по названию "Apple".
3. Поиск по названию "Samsung".
4. Фильтр "Цена от 1000 до 5000".
5. Фильтр "Только активные товары".
6. Просмотр категорий.
7. Поиск внутри конкретной категории.
8. Глобальный поиск по описанию.
9. Сортировка поиска по дате добавления.
10. Просмотр деталей лучшего найденного варианта.

## Сценарий 9: "Двухэтапная Покупка"
*Разрыв сессии и сохранение состояния.*
1. Регистрация.
2. Вход.
3. Добавление товара в корзину.
4. Выход (эмуляция закрытия вкладки).
5. Повторный вход через некоторое время.
6. Проверка корзины (товары должны сохраниться в БД).
7. Добавление еще одного товара.
8. Обновление адреса доставки.
9. Оформление заказа.
10. Проверка статуса "Pending" у заказа.

## Сценарий 10: "Тестер Ограничений" (Edge Cases)
*Проверка защиты бэкенда.*
1. Логин.
2. Попытка купить товара больше, чем есть на складе (ошибка 400).
3. Попытка оформить заказ с пустой корзиной.
4. Попытка зайти в профиль без токена (401).
5. Попытка создать категорию (не будучи админом - 403).
6. Просмотр существующего товара.
7. Попытка удалить чужой заказ (если API позволяет).
8. Добавление нормального количества товара.
9. Успешный заказ (после исправления действий).
10. Финальная проверка баланса склада.
